class Soundengine {

    class Sfx {
        function play_sfx() {
            $current++;
            
            if($current >= $how_long_windsfx && $gamerunning) {
                execute as @p at @s run stopsound @p master sounds.atmo:windsfx;
                execute as @p at @s run playsound sounds.atmo:windsfx master @p;
                $current = 0;
            }
        }

        function init() {
            $current = 0;
            stopsound @a master sounds.atmo:windsfx;
            playsound sounds.atmo:windsfx master @a;
        }

        function start() {
            Soundengine.Sfx.init();
            scoreboard players set #sfx_running __music__ 1;
        }

        function stop() {
            stopsound @a master sounds.atmo:windsfx;
            scoreboard players set #sfx_running __music__ 0;
        }
    }

    function constants() {
        // constants for how long each track is
        $how_long_windsfx = 34;
    }
}